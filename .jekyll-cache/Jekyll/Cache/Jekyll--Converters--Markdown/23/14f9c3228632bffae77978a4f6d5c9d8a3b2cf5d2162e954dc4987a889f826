I"∫1<p>Every CMS offers widgets and helpers to share your blog/website in popular social networks as facebook. To get the share-button in is usually very easy but a bad surprise often follows when we see which content and image shows up (or not) in facebooks share dialog. We will have a quick look at the basics of open graph parameters and how they need to be included to in the website or blog. Once this is set, we will use the facebook debugger tool to ensure we get the latest content included and we are happy with the results.</p>

<!--more-->

<h3 id="the-problem">The problem</h3>

<p>If you are not sure what I‚Äôm talking about, just <a href="https://facebook.com/sharer.php?u=https://Rasta.Online/education/software-development/2015/12/11/facebook-share-dialog-and-open-graph-meta-tags.html" title="Open facebook share diaog...">open the share dialog here</a>. You will see a preview image of this article, the article description and authorship. This article deals with problems in this dialog. The information displayed there are part of your websites</p>
<figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;head&gt;</span>...<span class="nt">&lt;/head&gt;</span></code></pre></figure>
<p>and need to be set correctly to produce good resuls.</p>

<p>Even with the informations set, we may still don‚Äôt see the correct text and even more often no or a wrong image. The reason is that facebook reads these information only the first time anybody shares a page, saves it and from now serves these cached information to any new share, even so when our websites is updated with a new image and description. The <a href="https://developers.facebook.com/tools/debug/og/object/" title="Open debugger tool ...">Open Graph Object Debugger</a> allows us to clear this saved results and use the latest data instead.</p>

<h4 id="check-your-head">Check your HEAD</h4>

<p>If you use a CMS as Wordpress, Joomla!, Drupal, Typo3 or Plone the social-share addon of choice is suppossed to do this and we just need to check if everything is in place. If you <a href="/https://rasta.online/education/software-development/2015/11/19/faster-cheaper-safer.html" title="Read more about Jekyll and static site generators ...">use a static site generator</a> or simple static html, you easily can include these meta-tags by yourself. You want to inspect the website source code (<em>right click</em> &gt; <em>view source</em> ) and search for the following</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
  <span class="nt">&lt;head&gt;</span>
      ...
    <span class="nt">&lt;</span><span class="err">!</span><span class="na">-</span> <span class="na">Search</span> <span class="na">for</span> <span class="na">these</span> <span class="na">meta</span> <span class="na">tags</span> <span class="na">--</span><span class="nt">&gt;</span>
    <span class="nt">&lt;meta</span> <span class="na">property=</span><span class="s">"og:title"</span> <span class="na">content=</span><span class="s">"The main title for our post"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;meta</span> <span class="na">property=</span><span class="s">"og:image"</span> <span class="na">content=</span><span class="s">"absolute URL to the image shown with the share"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;meta</span> <span class="na">property=</span><span class="s">"og:description"</span> <span class="na">content=</span><span class="s">"The description is the long text in the share dialog, explaining your visitors what they can get in your blog."</span><span class="nt">&gt;</span>
    <span class="nt">&lt;meta</span> <span class="na">property=</span><span class="s">"og:site_name"</span> <span class="na">content=</span><span class="s">"The name of your site or something catchy"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;meta</span> <span class="na">property=</span><span class="s">"og:url"</span> <span class="na">content=</span><span class="s">"URL: this article"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;meta</span> <span class="na">property=</span><span class="s">"og:type"</span> <span class="na">content=</span><span class="s">"website or article?"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;meta</span> <span class="na">property=</span><span class="s">"og:locale"</span> <span class="na">content=</span><span class="s">"Language Code"</span> <span class="nt">/&gt;</span> 
    <span class="c">&lt;!-- Author info --&gt;</span>
    <span class="nt">&lt;meta</span> <span class="na">property=</span><span class="s">"article:author"</span> <span class="na">content=</span><span class="s">"URL: facebook user or page"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;meta</span> <span class="na">property=</span><span class="s">"article:publisher"</span> <span class="na">content=</span><span class="s">"URL: facebook user or page"</span> <span class="nt">/&gt;</span>
    <span class="c">&lt;!-- End --&gt;</span>
    ...
  <span class="nt">&lt;/head&gt;</span>
  <span class="nt">&lt;body&gt;</span>...<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>  </code></pre></figure>

<p>Compare <a href="https://facebook.com/sharer.php?u=https://Rasta.Online/education/software-development/2015/12/11/facebook-share-dialog-and-open-graph-meta-tags.html">the share dialog</a> with this articles settings and it should get clear what each tag is doing.</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
  <span class="nt">&lt;head&gt;</span>
      ...
    <span class="nt">&lt;</span><span class="err">!</span><span class="na">-</span> <span class="na">Search</span> <span class="na">for</span> <span class="na">these</span> <span class="na">meta</span> <span class="na">tags</span> <span class="na">--</span><span class="nt">&gt;</span>
    <span class="nt">&lt;meta</span> <span class="na">property=</span><span class="s">"og:title"</span> <span class="na">content=</span><span class="s">"Problems with the facebook share? The wrong text or image shows up?"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;meta</span> <span class="na">property=</span><span class="s">"og:image"</span> <span class="na">content=</span><span class="s">"http://rasta.online/library/images/facebook-share.jpg"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;meta</span> <span class="na">property=</span><span class="s">"og:description"</span> <span class="na">content=</span><span class="s">"This article explains how to set all needed information in open graph tags of your website and how to use the debugger tools to get the latest results."</span><span class="nt">&gt;</span>
    <span class="nt">&lt;meta</span> <span class="na">property=</span><span class="s">"og:site_name"</span> <span class="na">content=</span><span class="s">"Duppy conqueror in the digital jungle."</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;meta</span> <span class="na">property=</span><span class="s">"og:url"</span> <span class="na">content=</span><span class="s">"https://Rasta.Online/education/software-development/2015/12/11/facebook-share-dialog-and-open-graph-meta-tags.html"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;meta</span> <span class="na">property=</span><span class="s">"og:type"</span> <span class="na">content=</span><span class="s">"article"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;meta</span> <span class="na">property=</span><span class="s">"og:locale"</span> <span class="na">content=</span><span class="s">"en_US"</span> <span class="nt">/&gt;</span> 
    <span class="c">&lt;!-- Author info --&gt;</span>
    <span class="nt">&lt;meta</span> <span class="na">property=</span><span class="s">"article:author"</span> <span class="na">content=</span><span class="s">""</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;meta</span> <span class="na">property=</span><span class="s">"article:publisher"</span> <span class="na">content=</span><span class="s">""</span> <span class="nt">/&gt;</span>
    <span class="c">&lt;!-- End --&gt;</span>
      ...
  <span class="nt">&lt;/head&gt;</span>
  <span class="nt">&lt;body&gt;</span>...<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>  </code></pre></figure>

<p>We need to make sure that these meta-tags with the properties <em>og:title</em>, <em>og:description</em>, <em>og:image</em>, <em>og:site_name</em>, <em>og:url</em>, <em>og:type</em>, <em>og:locale</em>, <em>article:author</em>, <em>article:publisher</em> are included <strong>exactly once</strong> in the <em>&lt;head&gt;</em>. I‚Äôve seen problems when you have the <em>og:title</em> or others twice included. On static html websites you simply write these tags direct into your source-code, if you <a href="/https://rasta.online/education/software-development/2015/11/19/faster-cheaper-safer.html" title="Read more about Jekyll and static site generators ...">use a static site generator</a> just check <a href="https://github.com/Solomonic/theming.rasta_online/blob/master/_includes/open_graph.html" title="Easy Open-graph tags inclusion ...">this blogs solution</a>. If you work with a CMS as Wordpress, Joomla, Typo3, Drupal, Django or Plone first look for an addon/extension providing these tags for your system, there are plenty different available. I encountered problems in some Wordpress themes including these tags twice and I had to edit the layout files head.php to make it right. A good theme shouldn‚Äôt have the problem, but if you are in the situation and can‚Äôt figure it out, <a href="http://Rasta.Online/contact">ask for help</a>. You will need to have control over these tags before you can use the <a href="https://developers.facebook.com/tools/debug/og/object/" title="Open debugger tool ...">Open Graph Object Debugger</a> in an effective manner.</p>

<h3 id="the-debugger">The Debugger</h3>

<p>Facebook luckily offers a <a href="https://developers.facebook.com/tools/debug/og/object/" title="Open Graph Debugger">free developer tool</a> to debug problems with these open-graph meta tags and solve the caching problem. We need to have a facebook account to use it so if you have none, create it for development purpose and use a <a href="https://www.trash-mail.com/en/" title="Disposable email service with all conventional mailbox functions!">disposable email service</a> for privacy protection. Once you are logged in are we ready to go.</p>

<p><strong>If you have the debugger open now</strong> just paste the URL of you website/blog in the input field and click the <strong><em>Fetch new scrape Information</em></strong> button.</p>

<p>As result are we getting a page with all the <strong>latest</strong> data. Just scroll down and you will see errors if any, which tags were found and a preview of the share dialog. It‚Äôs a good time now to phrase an attractive descriptions for your content and to play around to find an nice image. What you need to know about the picture:</p>

<ul>
  <li>the minimum-size is 200 x 200px, everything <strong>smaller is ignored</strong> and the next big image is used instead.</li>
  <li>for big image effect: use picture of <strong>1200 x 630px</strong> or bigger for high resolution devices or at least 600 x 315px</li>
  <li>to avoid unwanted cropping of the image, try a <strong>ratio close to 1.91:1</strong></li>
</ul>

<p>We want to check each post one by one, to ensure the correct images and text is showing. I for example had an issue, that the image used on <em>http://Rasta.Online/about</em> was not updated besides the fact that the path was correct, the image well sized and available through the web. I <strong>fetched new scrape information</strong> couple of times but with no change. Finally I tried <em>http://Rasta.Online/about</em><strong><em>/</em></strong> and I got the updated results, everything works now fine.</p>

<h3 id="summary">Summary</h3>

<p>Open Graph tags are often treated as <em>‚Äúthis facebook thing‚Äù</em> because it is the most common usecase. I see today a fast growing amount of other tools, also using these tags to generate previews in chats and messaging apps. So we don‚Äôt do this for facebook, we do it for a more user-friendly internet. Find out more about the <a href="http://ogp.me/" title="More about the Open Graph protocol ...">Open Graph protocol</a>, and its possibilities.</p>

<p><em>Stay tuned</em></p>
:ET