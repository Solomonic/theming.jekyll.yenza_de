<!doctype html> <html amp lang="en-us"> <head> <meta charset="utf-8"> <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1"> <meta name="description" content="Today we have a look at the builds with Travis CI which enables us later on to use custom Plugins together with Github pages. In this series I'll show how to..."> <link rel="preload" as="script" href="https://cdn.ampproject.org/v0.js"> <script async src="https://cdn.ampproject.org/v0.js"></script> <style amp-custom>body,h1,h2,h3,h4,h5,h6,p,blockquote,pre,hr,dl,dd,ol,ul,figure{margin:0;padding:0}body{font:400 16px/1.5 Verdana,Geneva,sans-serif;color:#111;background-color:#fdfdfd;-webkit-text-size-adjust:100%;-webkit-font-feature-settings:"kern" 1;-moz-font-feature-settings:"kern" 1;-o-font-feature-settings:"kern" 1;font-feature-settings:"kern" 1;font-kerning:normal}h1,h2,h3,h4,h5,h6,p,blockquote,pre,ul,ol,dl,figure,.highlight{margin-bottom:15px}img{max-width:100%;vertical-align:middle}figure>img{display:block}figcaption{font-size:14px}ul,ol{margin-left:30px}li>ul,li>ol{margin-bottom:0}h1,h2,h3,h4,h5,h6{font-weight:400}h1,h2{text-align:center}.site-footer h1,.site-footer h2,.site-footer h3,.site-footer h4,.site-footer h5,.site-footer h6{text-align:left}a{color:#2a7ae2;text-decoration:none}a:visited{color:#1756a9}a:hover{color:#111;text-decoration:underline}blockquote{color:#828282;border-left:4px solid #e8e8e8;padding-left:15px;font-size:18px;letter-spacing:-1px;font-style:italic}blockquote>:last-child{margin-bottom:0}pre,code{font-size:15px;border:1px solid #e8e8e8;border-radius:3px;background-color:#eef}code{padding:1px 5px}pre{padding:8px 12px;overflow-x:auto}pre>code{border:0;padding-right:0;padding-left:0}.wrapper{max-width:740px;margin-right:auto;margin-left:auto;padding-right:30px;padding-left:30px}@media screen and (max-width:800px){.wrapper{max-width:-webkit-calc(800px -(30px));max-width:calc(800px -(30px));padding-right:15px;padding-left:15px}}.footer-col-wrapper:after,.wrapper:after{content:"";display:table;clear:both}.icon>svg{display:inline-block;width:16px;height:16px;vertical-align:middle}.icon>svg path{fill:#828282}.site-header{border-top:5px solid #424242;min-height:56px;position:relative}.site-title{font-size:26px;font-weight:300;letter-spacing:-1px;margin-bottom:0;float:left;text-shadow:-11px 0 50px #fff}.site-title,.site-title:visited{color:#424242}.home-red{color:red;left:4px}.home-yellow{color:gold;left:8px}.home-green{color:green;left:12px}.home-black{color:#000}.slogan{font-size:20px;margin-left:20px;font-style:italic}.site-nav{float:right;line-height:56px}.site-nav .menu-icon{display:none}.site-nav .page-link{color:#111;line-height:1.5}.site-nav .page-link:not(:last-child){margin-right:20px}@media screen and (max-width:600px){.site-nav{position:absolute;top:9px;right:15px;background-color:#fdfdfd;border:1px solid #e8e8e8;border-radius:5px;text-align:right}.site-nav .menu-icon{display:block;float:right;width:36px;height:26px;line-height:0;padding-top:10px;text-align:center}.site-nav .menu-icon>svg{width:18px;height:15px}.site-nav .menu-icon>svg path{fill:#424242}.site-nav .trigger{clear:both;display:none}.site-nav:hover .trigger{display:block;padding-bottom:5px}.site-nav .page-link{display:block;padding:5px 10px;margin-left:20px}.site-nav .page-link:not(:last-child){margin-right:0}}.footer-heading{font-size:18px;margin-bottom:15px}.footer-col-wrapper{font-size:15px;color:#828282;margin-left:-15px}.footer-col{float:left;margin-bottom:15px;padding-left:15px}.footer-col-1,.footer-col-2,.footer-col-3{width:31%}@media screen and (max-width:800px){.footer-col-1,.footer-col-2{width:-webkit-calc(50% -(30px / 2));width:calc(50% -(30px / 2))}.footer-col-3{width:-webkit-calc(100% -(30px / 2));width:calc(100% -(30px / 2))}}@media screen and (max-width:600px){.footer-col{float:none;width:-webkit-calc(100% -(30px / 2));width:calc(100% -(30px / 2))}}.page-content{padding:0}.post-list{margin-left:0;list-style:none}.post-list>li{margin-bottom:30px}.post-meta{font-size:14px;color:#828282}.post-link{display:block;font-size:24px}.post-header{margin-bottom:30px}.post-title{font-size:30px;letter-spacing:-1px;line-height:1}@media screen and (max-width:800px){.post-title{font-size:36px}}.post-content{margin-bottom:30px}.post-content h2{font-size:26px}@media screen and (max-width:800px){.post-content h2{font-size:28px}}.post-content h3{font-size:24px}@media screen and (max-width:800px){.post-content h3{font-size:22px}}.post-content h4{font-size:20px}@media screen and (max-width:800px){.post-content h4{font-size:18px}}.align-up{position:relative;top:-10px}.align-down{position:relative;top:3px}.contact_facebook,.contact_email,.contact_skype_chat,.contact_skype_call{display:inline-block;margin:5px 10px}article h2,.article-section h2{font-size:1.4em}article h3,.article-section h3{font-size:1.3em}article h4,.article-section h4{font-size:1.2em}article h5,.article-section h5{font-size:1.15em}article h6,.article-section h6{display:none}article .article-headline,.article-section .article-headline{margin-bottom:0}article a.post_description,article a.post_description:hover,article a.post_description:active,article a.post_description:link,article a.post_description:visited,.article-section a.post_description,.article-section a.post_description:hover,.article-section a.post_description:active,.article-section a.post_description:link,.article-section a.post_description:visited{color:inherit;text-decoration:none;cursor:help}
article time,.article-section time{font-style:italic;font-weight:bold}article>section{padding:0 1em}.article{width:43%;float:left;border:1px solid #e8e8e8;padding:25px;margin-bottom:15px;border-radius:5px;-webkit-box-shadow:2px 13px 51px -18px rgba(17,17,17,0.45);-moz-box-shadow:2px 13px 51px -18px rgba(17,17,17,0.45);box-shadow:2px 13px 51px -18px rgba(17,17,17,0.45)}html,body{margin:0;padding:0;height:100%;width:100%}#global-wrapper{min-height:100%}.article.even{margin-right:15px}.article.full{width:auto;float:none;clear:both}@media screen and (max-width:600px){.article{width:auto;float:none}.article.even{margin-right:0}}ul.invisible{list-style-type:none;margin-left:5px}ul.invisible li>.fa{margin-right:7px}ul.invisible li{margin-bottom:10px}s.partner_description,.projects_description{position:relative;display:inline-block;padding:10px 15px 5px;margin-bottom:10px;min-height:50px;border-radius:5px;-webkit-box-shadow:2px 13px 51px -18px rgba(17,17,17,0.45);-moz-box-shadow:2px 13px 51px -18px rgba(17,17,17,0.45);box-shadow:2px 13px 51px -18px rgba(17,17,17,0.45)}s.partner_description .post_actions,.projects_description .post_actions{position:absolute;top:5px;left:10px}s.partner_description h1,s.partner_description h2,s.partner_description h3,s.partner_description h4,s.partner_description h5,.projects_description h1,.projects_description h2,.projects_description h3,.projects_description h4,.projects_description h5{display:inline-block;letter-spacing:-1px;float:left;margin:20px 15px 0 0}s.partner_description strong,.projects_description strong{display:inline-block;margin:1.5em 1em 0 0;float:left}.partners,.projects{float:none;clear:both}.partners section,.projects section{display:inline-block}.partners h1,.partners h2,.partners h3,.partners h4,.partners h5,.projects h1,.projects h2,.projects h3,.projects h4,.projects h5{float:none}.center{text-align:center}.series-navigation{width:100%;position:relative;min-height:48px}.series-navigation .prev_article{position:absolute;left:0;diplay:block;height:48px}.series-navigation .next_article{position:absolute;right:0;diplay:block;height:48px}.series-navigation .small-text{display:none}@media screen and (max-width:600px){.prev_article .text,.next_article .text{display:none}.prev_article .small-text,.next_article .small-text{display:inline}}#share-box{position:fixed;top:40%;text-align:center;right:0}#share-box .box{background-color:#fff;display:block;padding:3px 8px;border-radius:5px;min-height:2em;z-index:999}#share-box .box a{font-weight:bold;min-height:2em;display:block}#share-box .box a.green:visited,#share-box .box a.green:active,#share-box .box a.green:focus,#share-box .box a.green:hover{color:green}#share-box .box a.gold:visited,#share-box .box a.gold:active,#share-box .box a.gold:focus,#share-box .box a.gold:hover{color:gold}#share-box .box a.red:visited,#share-box .box a.red:active,#share-box .box a.red:focus,#share-box .box a.red:hover{color:red}pre{white-space:pre-wrap;word-break:break-word}.article-section .article-headline,.article-section h2.article-headline,.article-section h2.post-title{text-align:left;line-height:1.1em;margin-bottom:16px;letter-spacing:-1px;font-size:21px;background-color:transparent;border:0 none transparent}.article-section .article-headline .right,.article-section h2.article-headline .right,.article-section h2.post-title .right{position:absolute;right:0;top:0}.video .thumbnail,.news .thumbnail{float:left;margin-right:12px}.iframe-container{position:relative;width:100%;padding-bottom:56.25%;height:0}.iframe-container iframe{position:absolute;top:0;left:0;width:100%;height:100%}.artist_image,.image_description,.short_bio{text-align:center;font-style:italic}.cover{margin-bottom:1em}#tune_list{text-align:center}.entry{display:inline-block;margin:1em;min-width:200px}.entry .text{display:block}ul.link_list{list-style:none}.quote{font-style:italic}.video_embed{margin-bottom:1em}.section-nav{list-style-type:none}.section-nav li{display:inline-block;margin-left:1em;margin-bottom:.5em}.site-nav{z-index:99}.rasta_blog{margin-top:1em}.rasta_blog h2,.rasta_blog h3{margin-bottom:0}.promo{margin-bottom:1em}.row>.column{padding:0 8px}.row:after{content:"";display:table;clear:both}.column{float:left;width:25%}.modal{display:none;position:fixed;z-index:1;padding-top:100px;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:black}.modal a,.modal a:hover{color:#2a7ae2}.modal .order_info{color:#fff;position:absolute;top:20px;left:25px;font-style:italic;font-weight:lighter;letter-spacing:-1px;width:85%}.modal .more_products{color:#fff;position:absolute;top:40px;left:25px;font-style:italic;font-weight:lighter;letter-spacing:-1px;width:85%}@media screen and (max-width:820px){.modal .more_products{top:65px}}@media screen and (max-width:600px){.modal .more_products{top:800px}}@media screen and (max-width:550px){.modal .more_products{top:720px}}@media screen and (max-width:500px){.modal .more_products{top:665px}}@media screen and (max-width:450px){.modal .more_products{top:605px}
}@media screen and (max-width:400px){.modal .more_products{top:550px}}@media screen and (max-width:350px){.modal .more_products{top:495px}}@media screen and (max-width:300px){.modal .more_products{top:435px}}.modal-content{position:relative;background-color:#fefefe;margin:auto;padding:0;width:90%;max-width:600px;text-align:center}.close{color:white;position:absolute;top:10px;right:25px;font-size:35px;font-weight:bold}.close:hover,.close:focus{color:#999;text-decoration:none;cursor:pointer}.mySlides{display:none}.prev,.next{cursor:pointer;position:absolute;color:black;top:50%;width:auto;padding:16px;margin-top:-50px;font-weight:bold;font-size:20px;border-radius:0 3px 3px 0;user-select:none;-webkit-user-select:none}.next{right:0;border-radius:3px 0 0 3px}.prev{left:0}.prev:hover,.next:hover{background-color:rgba(0,0,0,0.8);color:white;text-decoration:none}.numbertext{color:#000;font-size:12px;padding:8px 12px;position:absolute;top:0}.caption-container{text-align:center;background-color:black;padding:2px 16px;color:white}img.demo{opacity:.6}img.demo.active,.demo:hover{opacity:1}.hover-shadow:hover{box-shadow:0 4px 8px 0 rgba(0,0,0,0.2),0 6px 20px 0 rgba(0,0,0,0.19)}.amp_img{margin:1em auto;position:relative;z-index:1}.amp_image{margin:0 auto}.amp_image amp-img{margin:0 auto}.image.amp_image.icon{width:74px}a.site-title{min-width:100px;margin-bottom:1em}.carousel_footer{position:absolute;height:50px;width:100%}.carousel_footer a.buy_now,.carousel_footer a.more_products,.carousel_footer a.large_product{position:absolute;display:block;margin:0;height:50px;font-weight:bold;color:white;text-align:center;cursor:pointer}.carousel_footer .red{background-color:red;right:0;width:33%}.carousel_footer .gold{background-color:gold;left:33%;width:34%}.carousel_footer .green{background-color:green;left:0;width:33%}.music h2,.music h3{margin-top:1em}.highlight{background:#fff}.highlighter-rouge .highlight{background:#eef}.highlight .c{color:#998;font-style:italic}.highlight .err{color:#a61717;background-color:#e3d2d2}.highlight .k{font-weight:bold}.highlight .o{font-weight:bold}.highlight .cm{color:#998;font-style:italic}.highlight .cp{color:#999;font-weight:bold}.highlight .c1{color:#998;font-style:italic}.highlight .cs{color:#999;font-weight:bold;font-style:italic}.highlight .gd{color:#000;background-color:#fdd}.highlight .gd .x{color:#000;background-color:#faa}.highlight .ge{font-style:italic}.highlight .gr{color:#a00}.highlight .gh{color:#999}.highlight .gi{color:#000;background-color:#dfd}.highlight .gi .x{color:#000;background-color:#afa}.highlight .go{color:#888}.highlight .gp{color:#555}.highlight .gs{font-weight:bold}.highlight .gu{color:#aaa}.highlight .gt{color:#a00}.highlight .kc{font-weight:bold}.highlight .kd{font-weight:bold}.highlight .kp{font-weight:bold}.highlight .kr{font-weight:bold}.highlight .kt{color:#458;font-weight:bold}.highlight .m{color:#099}.highlight .s{color:#d14}.highlight .na{color:#008080}.highlight .nb{color:#0086b3}.highlight .nc{color:#458;font-weight:bold}.highlight .no{color:#008080}.highlight .ni{color:#800080}.highlight .ne{color:#900;font-weight:bold}.highlight .nf{color:#900;font-weight:bold}.highlight .nn{color:#555}.highlight .nt{color:#000080}.highlight .nv{color:#008080}.highlight .ow{font-weight:bold}.highlight .w{color:#bbb}.highlight .mf{color:#099}.highlight .mh{color:#099}.highlight .mi{color:#099}.highlight .mo{color:#099}.highlight .sb{color:#d14}.highlight .sc{color:#d14}.highlight .sd{color:#d14}.highlight .s2{color:#d14}.highlight .se{color:#d14}.highlight .sh{color:#d14}.highlight .si{color:#d14}.highlight .sx{color:#d14}.highlight .sr{color:#009926}.highlight .s1{color:#d14}.highlight .ss{color:#990073}.highlight .bp{color:#999}.highlight .vc{color:#008080}.highlight .vg{color:#008080}.highlight .vi{color:#008080}.highlight .il{color:#099}</style> <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript> <link rel="canonical" href="https://Rasta.Online/education/software-development/2020/07/24/jekyll-travis-ci-deploy-for-custom-gems.html"> <title>High Performance AMP Blog with Jekyll - Part 2</title> <meta content="text/plain" name="DC.format"> <meta content="Jens Krause" name="DC.creator"> <meta content="ALL" name="robots"> <meta content="Global" name="distribution"> <meta content="Global" name="DC.distribution"> <meta content="en" name="DC.language"> <meta property="og:title" content="High Performance AMP Blog with Jekyll - Part 2"/> <meta property="og:site_name" content="Duppy conqueror in the digital jungle."/> <meta property="og:url" content="https://Rasta.Online/education/software-development/2020/07/24/jekyll-travis-ci-deploy-for-custom-gems.html"/> <meta property="og:type" content="article"/> <meta property="fb:app_id" content="172683489748870"/> <meta property="og:locale" content="en_US"/> <meta property="og:description" content="Today we have a look at the builds with Travis CI which enables us later on to use custom Plugins together with Github pages. In this series I'll show how to setup a high performance, mobile friendly AMP Blog with custom gems."> <meta property="article:author" content="https://www.facebook.com/www.rasta.online"/> <meta property="article:publisher" content="https://www.facebook.com/www.rasta.online"/> <meta property="og:image" content="http://rasta.online/library/images/default.jpg"/> <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "BlogPosting",
      "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://Rasta.Online/education/software-development/2020/07/24/jekyll-travis-ci-deploy-for-custom-gems.html"
      },
      "headline": "High Performance AMP Blog with Jekyll - Part 2",
      "image": "https://Rasta.Online/library/images/rasta-logo.png",
      "datePublished": "2020-07-24T06:00:00+00:00",
      "dateModified": "2020-08-21T07:47:27+00:00",
      "author": {
        "@type": "Person",
        "name": "Jens Krause"
      },
      "editor": "Jens Krause",
      "publisher": {
        "@type": "Organization",
        "name": "Rasta Online",
        "logo": {
          "@type": "ImageObject",
          "url": "https://rasta.online/library/images/rasta-logo.png"
        }
      },
      "description": "Today we have a look at the builds with Travis CI which enables us later on to use custom Plugins together with Github pages. In this series I'll show how to...",
      "keywords": ["Software Development","Open Source","Free Tools","SEO","Performance","continuous integration","coding","programming"],
      "genre": ["Software Development","Open Source","Free Tools","SEO","Performance","continuous integration","coding","programming"]
        }

    }
    </script> <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"> <script async custom-element="amp-addthis" src="https://cdn.ampproject.org/v0/amp-addthis-0.1.js"></script> <script async custom-element="amp-image-lightbox" src="https://cdn.ampproject.org/v0/amp-image-lightbox-0.1.js"></script> </head> <body> <div id="global-wrapper"> <header class="site-header"> <div class="wrapper"> <a class="site-title" title="Interested in Rasta, Reggae or creating websites and internet technologies, open-source and team-management?" href="/"> <div class="image amp_image home"><amp-img class="home" src="/library/images/generated/lion_head-99-6136fba54.png" alt="Duppy conqueror in the digital jungle." srcset="/library/images/generated/lion_head-99-6136fba54.webp 99w" width="99" height="99" style="max-width:99px" layout="responsive"><noscript><img class="home" src="/library/images/generated/lion_head-99-6136fba54.png" alt="Duppy conqueror in the digital jungle." srcset="/library/images/generated/lion_head-99-6136fba54.webp 99w" width="99" height="99" style="max-width:99px"></noscript></amp-img> </div> </a> <nav class="site-nav"> <a href="#" class="menu-icon"> <svg viewBox="0 0 18 15"> <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/> <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/> <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/> </svg> </a> <div class="trigger"> <a class="page-link" href="/music">Music</a> <a class="page-link" href="/education">Education</a> <a class="page-link" href="/about">About</a> <a class="page-link" href="/contact">Contact</a> </div> </nav> </div> </header> <div class="page-content"> <div id="top" class="wrapper"> <div class="series-navigation"> <a class="prev_article" title="Read previous article: Create a Jekyll Blog" href="/education/software-development/2020/07/22/jekyll-free-blog-hosting-with-githubpages.html"><span class="fa fa-angle-double-left fa-lg"></span> <span class="text">Create a Jekyll Blog</span><span class="small-text">Read previous</span> </a> <a class="next_article" title="Read follow up: Custom plugin with Travis CI" href="/education/software-development/2020/07/28/configure-repo-and-travis-ci-to-build-any-custom-jekyll-plugin-for-github-pages.html"> <span class="text">Custom plugin with Travis CI</span> <span class="small-text">Read next</span> <span class="fa fa-angle-double-right fa-lg"></span></a> </div> <article class="post article full"> <header class="post-header"> <h2 class="post-title">High Performance AMP Blog with Jekyll - Part 2</h2> <p class="post-meta"> Jul 24, 2020 • <span>Jens Krause</span> </p> <p> In this series I'll show how to setup a high performance, mobile friendly AMP Blog with custom Jekyll plugins while using GitHub pages as a free hosting provider. We create a staging environment and setup an automatic deploy and testing with Travis CI. </p> </header> <div class="post-content"> <p>In this article we have a look how to setup Travis CI to automatically build our Jekyll website.</p> <h2 id="the-basics---what-are-we-talking-about-today">The Basics - what are we talking about today?</h2> <h3 id="travis-ci">Travis CI</h3> <p><a href="https://travis-ci.org">Travis CI</a> is a hosted continuous integration service, which is free to use with GitHub open-source repositories. If changes are committed to an repository, it will start a virtual machine and executes our defined automation steps. We’ll use it to test our code and deploy the live website into <strong>production</strong>. This has many advantages, we can avoid to publish broken code, we can push changes into a <strong>staging</strong> environment to not go online but be available for review and last but not least it enables us to run custom code which allows to install any required software / Ruby Gems/ Jekyll Plugins to build our website and therefor overcome GitHub Pages restriction of only allowing whitelisted plugins. Another side effect is that we are able make changes directly on the <a href="https://github.com">GitHub</a> website or use a commit based CMS as <a href="https://forestry.io/">Forestry</a> and let Travis CI do the automated publishing.</p> <h2 id="step-1-enable-travis-ci">Step 1: Enable Travis CI</h2> <p>One nice thing about <a href="https://travis-ci.org">Travis</a> is that it does not require any additional registration, you simply can log in with your GitHub account, import your repositories with a click of a button and can get started. After activation we need to add a <code class="language-plaintext highlighter-rouge">.travis.yml</code> file which specifies our build environment and allows us to define the steps of what should be done when a commit to our repository appears. So let’s get started.</p> <h3 id="signup">Signup</h3> <p>First you’ll need to sign up or sign in to <a href="https://travis-ci.org">https://travis-ci.org</a> with your GitHub credentials.</p> <div class="image amp_image cover"><amp-img class="cover" src="/library/images/generated/jekyll-amp/travis-signup-600-a7f276e0a.png" alt="Sign up for Travis CI" srcset="/library/images/generated/jekyll-amp/travis-signup-600-a7f276e0a.png 1.0x" width="600" height="241" style="max-width:600px" layout="responsive"><noscript><img class="cover" src="/library/images/generated/jekyll-amp/travis-signup-600-a7f276e0a.png" alt="Sign up for Travis CI" srcset="/library/images/generated/jekyll-amp/travis-signup-600-a7f276e0a.png 1.0x" width="600" height="241" style="max-width:600px"/></noscript></amp-img> </div> <div class="image amp_image logo"><amp-img class="logo" src="/library/images/generated/jekyll-amp/travis-signup-2-340-29d2f45dc.png" alt="Log in with github" srcset="/library/images/generated/jekyll-amp/travis-signup-2-400-29d2f45dc.webp 400w, /library/images/generated/jekyll-amp/travis-signup-2-600-29d2f45dc.webp 600w, /library/images/generated/jekyll-amp/travis-signup-2-700-29d2f45dc.webp 700w" width="340" height="532" style="max-width:340px" layout="responsive"><noscript><img class="logo" src="/library/images/generated/jekyll-amp/travis-signup-2-340-29d2f45dc.png" alt="Log in with github" srcset="/library/images/generated/jekyll-amp/travis-signup-2-400-29d2f45dc.webp 400w, /library/images/generated/jekyll-amp/travis-signup-2-600-29d2f45dc.webp 600w, /library/images/generated/jekyll-amp/travis-signup-2-700-29d2f45dc.webp 700w" width="340" height="532" style="max-width:340px"/></noscript></amp-img> </div> <h3 id="authorize-travis-ci-for-open-source">Authorize Travis CI for Open source</h3> <p>Now you are asked to authorize Travis, just click the green button</p> <div class="image amp_image logo"><amp-img class="logo" src="/library/images/generated/jekyll-amp/travis-authorize-340-63954c1f0.png" alt="Authorize" srcset="/library/images/generated/jekyll-amp/travis-authorize-400-63954c1f0.webp 400w, /library/images/generated/jekyll-amp/travis-authorize-600-63954c1f0.webp 600w, /library/images/generated/jekyll-amp/travis-authorize-800-63954c1f0.webp 800w, /library/images/generated/jekyll-amp/travis-authorize-1000-63954c1f0.webp 1000w" width="340" height="475" style="max-width:340px" layout="responsive"><noscript><img class="logo" src="/library/images/generated/jekyll-amp/travis-authorize-340-63954c1f0.png" alt="Authorize" srcset="/library/images/generated/jekyll-amp/travis-authorize-400-63954c1f0.webp 400w, /library/images/generated/jekyll-amp/travis-authorize-600-63954c1f0.webp 600w, /library/images/generated/jekyll-amp/travis-authorize-800-63954c1f0.webp 800w, /library/images/generated/jekyll-amp/travis-authorize-1000-63954c1f0.webp 1000w" width="340" height="475" style="max-width:340px"/></noscript></amp-img> </div> <h3 id="activate-your-github-repositories">Activate your GitHub repositories</h3> <p>If it’s you first time here, you wont see any repositories yet. You will need to activate them first to get started. Just click <strong>Activate All Repositories Using GitHub Apps</strong> button and follow the next steps.</p> <div class="image amp_image cover"><amp-img class="cover" src="/library/images/generated/jekyll-amp/travis-activate-1-600-ac816890f.png" alt="Activate with Github Apps" srcset="/library/images/generated/jekyll-amp/travis-activate-1-600-ac816890f.png 1.0x" width="600" height="268" style="max-width:600px" layout="responsive"><noscript><img class="cover" src="/library/images/generated/jekyll-amp/travis-activate-1-600-ac816890f.png" alt="Activate with Github Apps" srcset="/library/images/generated/jekyll-amp/travis-activate-1-600-ac816890f.png 1.0x" width="600" height="268" style="max-width:600px"/></noscript></amp-img> </div> <div class="image amp_image logo"><amp-img class="logo" src="/library/images/generated/jekyll-amp/travis-activate-2-340-52200bc3e.png" alt="Aprove" srcset="/library/images/generated/jekyll-amp/travis-activate-2-400-52200bc3e.webp 400w, /library/images/generated/jekyll-amp/travis-activate-2-600-52200bc3e.webp 600w, /library/images/generated/jekyll-amp/travis-activate-2-800-52200bc3e.webp 800w, /library/images/generated/jekyll-amp/travis-activate-2-1000-52200bc3e.webp 1000w" width="340" height="478" style="max-width:340px" layout="responsive"><noscript><img class="logo" src="/library/images/generated/jekyll-amp/travis-activate-2-340-52200bc3e.png" alt="Aprove" srcset="/library/images/generated/jekyll-amp/travis-activate-2-400-52200bc3e.webp 400w, /library/images/generated/jekyll-amp/travis-activate-2-600-52200bc3e.webp 600w, /library/images/generated/jekyll-amp/travis-activate-2-800-52200bc3e.webp 800w, /library/images/generated/jekyll-amp/travis-activate-2-1000-52200bc3e.webp 1000w" width="340" height="478" style="max-width:340px"/></noscript></amp-img> </div> <p>Now you should be able to see your repository</p> <div class="image amp_image cover"><amp-img class="cover" src="/library/images/generated/jekyll-amp/travis-repos-600-2e7620574.png" alt="Repository on Travis" srcset="/library/images/generated/jekyll-amp/travis-repos-600-2e7620574.png 1.0x" width="600" height="127" style="max-width:600px" layout="responsive"><noscript><img class="cover" src="/library/images/generated/jekyll-amp/travis-repos-600-2e7620574.png" alt="Repository on Travis" srcset="/library/images/generated/jekyll-amp/travis-repos-600-2e7620574.png 1.0x" width="600" height="127" style="max-width:600px"/></noscript></amp-img> </div> <p>If not, press the <strong>Sync Acc</strong> button on the left.</p> <div class="image amp_image thumbnail"><amp-img class="thumbnail" src="/library/images/generated/jekyll-amp/travis-repos-sync-200-ec682edb2.png" alt="Sync repos" srcset="/library/images/generated/jekyll-amp/travis-repos-sync-100-ec682edb2.webp 100w, /library/images/generated/jekyll-amp/travis-repos-sync-200-ec682edb2.webp 200w" width="200" height="70" style="max-width:200px" layout="responsive"><noscript><img class="thumbnail" src="/library/images/generated/jekyll-amp/travis-repos-sync-200-ec682edb2.png" alt="Sync repos" srcset="/library/images/generated/jekyll-amp/travis-repos-sync-100-ec682edb2.webp 100w, /library/images/generated/jekyll-amp/travis-repos-sync-200-ec682edb2.webp 200w" width="200" height="70" style="max-width:200px"/></noscript></amp-img> </div> <p>Note: If you are a new user you’ll be most likely now on <strong>travis-ci.com</strong>, if you have a pre-existing account your repo is still on <strong>travis-ci.org</strong>. It doesn’t matter though, since open-source repositories are free in any case. Depending on which UI you are, you may need to flip a switch to activate builds.</p> <div class="image amp_image cover"><amp-img class="cover" src="/library/images/generated/jekyll-amp/travis-switch-600-07a362f56.png" alt="Switch" srcset="/library/images/generated/jekyll-amp/travis-switch-600-07a362f56.png 1.0x" width="600" height="36" style="max-width:600px" layout="responsive"><noscript><img class="cover" src="/library/images/generated/jekyll-amp/travis-switch-600-07a362f56.png" alt="Switch" srcset="/library/images/generated/jekyll-amp/travis-switch-600-07a362f56.png 1.0x" width="600" height="36" style="max-width:600px"/></noscript></amp-img> </div> <p><strong>Brilliant!</strong> we are all set now to trigger our first build.</p> <h2 id="step-2-add-a-travisyml-file">Step 2: add a .travis.yml file</h2> <p>Open up the website folder in your favorite Editor and add the following <code class="language-plaintext highlighter-rouge">.travis.yml</code> file to the root level.</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>language: ruby
rvm:
- 2.6.3
dist: trusty
sudo: false
cache: bundler
notifications:
  email: false

install:
  - bundle install

script:
  - JEKYLL_ENV="production" bundle exec jekyll build
</code></pre></div></div> <p>We specify that we want to build in a Ruby environment to be able to use the Ruby Gems and use the bundler, it specifies that the Operating System/ Docker Image should be <a href="https://docs.travis-ci.com/user/reference/trusty/">Ubuntu Trusty</a>, that we don’t require the sudo command, that the bundler is cached and that we don’t need email notifications for every single build. As a default are we still getting notified for broken builds and when a previously broken build is fixed, this is sufficient for most use-cases. If you want to know more about the notification settings, please have a look at the <a href="https://docs.travis-ci.com/user/notifications/#Configuring-email-notifications">Travis notification documentation</a>.</p> <p>The most important parts follow when we decalare what is actually to be done in the different steps of our build after our branch was cloned. We start with the <code class="language-plaintext highlighter-rouge">install</code> step and tell Travis that we need to run <code class="language-plaintext highlighter-rouge">bundle install</code> to get all required Gems specified in our <code class="language-plaintext highlighter-rouge">Gemfile</code>. Once this done, we follow up with the <code class="language-plaintext highlighter-rouge">script</code> step where we usually test our project. In this case we are going to build our Jekyll site as a production environment, the very step we’ll need to put it online. If an error occurs in one step, the build will be stopped and we get an email to notify us that the current changes brake the code.</p> <h2 id="step-3-gemfile-and-gemfilelock">Step 3: <code class="language-plaintext highlighter-rouge">Gemfile</code> and <code class="language-plaintext highlighter-rouge">Gemfile.lock</code></h2> <p>In the <code class="language-plaintext highlighter-rouge">Gemfile</code> you define your Ruby dependencies which are in our case Jekyll and its plugins. The <a href="https://bundler.io/gemfile.html">Bundler</a> will look into this file and install all dependencies for us. Once this is done it writes references/ versions of the installed Gems into the <code class="language-plaintext highlighter-rouge">Gemfile.lock</code> to keeps track what was used. This is in general a good practise to avoid version conflicts and such, in our case it creates some pitfalls though. Assuming that you don’t work with the same OS as Travis CI uses for its build, the <code class="language-plaintext highlighter-rouge">Gemfile.lock</code> from your local environment may breaks the build, since not exactly the same versions can be installed.</p> <p>Therefor you can <strong>delete</strong> the existing <code class="language-plaintext highlighter-rouge">Gemfile.lock</code> (it will be newly generated everytime <code class="language-plaintext highlighter-rouge">bundle install</code> executes) and add it to your <code class="language-plaintext highlighter-rouge">.gitignore</code> file:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># file .gitignore
...
Gemfile.lock
</code></pre></div></div> <h2 id="step-4-run-the-build">Step 4: Run the build</h2> <p>Add and commit the new <code class="language-plaintext highlighter-rouge">.tavis.yml</code>, updated <code class="language-plaintext highlighter-rouge">.gitignore</code> and deleted <code class="language-plaintext highlighter-rouge">Gemfile.lock</code> and push it to your repository. Travis CI will pick up the commit, starting the build and execute the specified steps. To see its status and whats going on you just go to <a href="https://travis-ci.org">https://travis-ci.org</a> or <a href="https://travis-ci.com">https://travis-ci.com</a> watch whats going on. A basic build takes approx. 3 minutes and you’ll see the live outputs within this time span. Assuming you followed through, the build turns green and you’ll see:</p> <div class="image amp_image thumbnail"><amp-img class="thumbnail" src="/library/images/generated/jekyll-amp/travis-build-1-200-79638c5ca.png" alt="Status Badge" srcset="/library/images/generated/jekyll-amp/travis-build-1-100-79638c5ca.webp 100w, /library/images/generated/jekyll-amp/travis-build-1-200-79638c5ca.webp 200w" width="200" height="29" style="max-width:200px" layout="responsive"><noscript><img class="thumbnail" src="/library/images/generated/jekyll-amp/travis-build-1-200-79638c5ca.png" alt="Status Badge" srcset="/library/images/generated/jekyll-amp/travis-build-1-100-79638c5ca.webp 100w, /library/images/generated/jekyll-amp/travis-build-1-200-79638c5ca.webp 200w" width="200" height="29" style="max-width:200px"/></noscript></amp-img> </div> <div class="image amp_image cover"><amp-img class="cover" src="/library/images/generated/jekyll-amp/travis-build-2-600-7f605a66e.png" alt="Build Output" srcset="/library/images/generated/jekyll-amp/travis-build-2-600-7f605a66e.png 1.0x" width="600" height="240" style="max-width:600px" layout="responsive"><noscript><img class="cover" src="/library/images/generated/jekyll-amp/travis-build-2-600-7f605a66e.png" alt="Build Output" srcset="/library/images/generated/jekyll-amp/travis-build-2-600-7f605a66e.png 1.0x" width="600" height="240" style="max-width:600px"/></noscript></amp-img> </div> <p><strong>Congrats</strong> you just used a CI to build your website.</p> <h2 id="conclusion">Conclusion</h2> <p>Of course this build won’t change anything on your live site but we have the groundworks done to turn this project into an automatically deployed environment. Please visit Part 3 to see how we configure our repository and Travis CI get stuff online instead of pushing it by ourself into the master branch.</p> </div> </article> <div class="series-navigation"> <a class="prev_article" title="Read previous article: Create a Jekyll Blog" href="/education/software-development/2020/07/22/jekyll-free-blog-hosting-with-githubpages.html"><span class="fa fa-angle-double-left fa-lg"></span> <span class="text">Create a Jekyll Blog</span><span class="small-text">Read previous</span> </a> <a class="next_article" title="Read follow up: Custom plugin with Travis CI" href="/education/software-development/2020/07/28/configure-repo-and-travis-ci-to-build-any-custom-jekyll-plugin-for-github-pages.html"> <span class="text">Custom plugin with Travis CI</span> <span class="small-text">Read next</span> <span class="fa fa-angle-double-right fa-lg"></span></a> </div> </div> </div> <footer class="site-footer"> <div class="wrapper"> <div class="footer-col-wrapper"> <div class="footer-col footer-col-1"> <h3>Rasta abroad</h3> <ul class="invisible"> <li><a href="https://RapidAgileSoftware.github.io" target="_blank" title="Rapid Agile Software"><span class="fa fa-lg fa-file-o"></span> Rapid Agile Software</a></li> <li><a href="https://github.com/RapidAgileSoftware" target="_blank" title="Follow a Rasta on github.com"><span class="fa fa-lg fa-github"></span> GitHub</a></li> <li><a target="_blank" href="https://www.linkedin.com/in/jens-krause-2a88901a6"><span class="fa fa-linkedin-square"></span><span class="footer_link_text"> LinkedIn</span></a></li> </ul> </div> <div class="footer-col footer-col-2"> <h3>Contact</h3> <ul class="invisible"> <li><a href="https://RapidAgileSoftware.github.io/contact"><span aria-hidden="true" title="Contact form" aria-label="conact form" class="fa fa-align-justify"></span> Contact form</a></li> <li><a href="mailto:info@rasta.online"><span aria-hidden="true" title="Email" aria-label="Email" class="fa fa-envelope"></span> Email</a></li> <li><a href="https://instagram.com/ras.yen" target="_blank" title="Follow a Rasta on Instagram"><span class="fa fa-lg fa-instagram"></span> Instagram</a></li> </ul> </div> <div class="footer-col footer-col-3"> <h3>QuickLinks</h3> <ul> <li><a class="page-link" href="/about/">About</a></li> <li><a class="page-link" href="/contact/">Contact</a></li> <li><a class="page-link" href="/education/">Education</a></li> <li><a class="page-link" href="/music/">Music</a></li> </ul> </div> </div> <div class="footer-col-wrapper"> <div class="footer-col footer-col-1"> <a href="#top"><span aria-hidden="true" title="Scroll to top" aria-label="Scroll to top" class="fa fa-arrow-circle-o-up fa-lg"></span> Back to top</a> </div> <div class="footer-col footer-col-2"> <a href="/sitemap.xml"><span class="fa fa-sitemap fa-lg" aria-hidden="true" title="to Sitemap" aria-label="to Sitemap"></span> Sitemap</a> </div> <div id="colophone" class="footer-col footer-col-3"> <a href="/"><span class="fa fa-copyright"> 2002-2020</span> All rights reserved. </a> </div> </div> </div> </footer> </div> <amp-addthis width="320" height="92" layout="responsive" data-pub-id="ra-5f169cc41ce343c5" data-widget-id="qrtb" data-widget-type="floating"></amp-addthis> </body> </html>